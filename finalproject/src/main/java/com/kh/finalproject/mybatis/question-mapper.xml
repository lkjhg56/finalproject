<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
 
 <mapper namespace="question">
 	<!-- 
 	문제 업로드
 	* 관리자만 question_premium 변경 가능하도록 해야함.
 	* user_custom_question 테이블도 같이 변해야 함.
 	 -->
 
 	<insert id="upload" parameterType="uploadQuestionDto">
 		insert into question values(
 			question_seq.nextval,
 			#{user_custom_question_no},
 			#{question_title},
 			#{question_content},
 			#{question_answer},
 			#{question_solution},
 			0,
 			#{answer1},
 			#{answer2},
 			#{answer3},
 			#{answer4},
 			#{answer5}
 			)
 	</insert>
 	<insert id="upload_sub" parameterType="uploadQuestionDto">
 		insert into user_custom_question values(
 			user_custom_question_seq.nextval,
 			#{user_no},
 			#{category_name}
 		)
 	</insert>
 	<!-- 
 	문제 수정
 	* 관리자만 question_premium 변경 가능하도록 해야함.
 	 -->
 	<update id="update" parameterType="uploadQuestionDto">
 		update question set 
 			question_title=#{question_title},
 			question_content=#{question_content},
 			question_answer=#{question_answer},
 			question_solution=#{question_solution},
 			question_premium=#{question_premium} 
 		where question_no=#{question_no}			
 	</update>
 	<!-- 
 	문제 조회
 	* 전체 조회
 	 --> 	
 	 <select id="getList" resultType="uploadQuestionDto">
 	 	select * from question order by question_no asc
 	 </select>
 </mapper>
